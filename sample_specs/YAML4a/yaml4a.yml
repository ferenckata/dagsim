graph:
node:
    name:freq
        func: addIfDiseased(baseFreq,freqAdditiveSignal,diseaseState)
    node:
    name: signalPriorP
        func: scipy.stats.beta.rvs(0.2,1,1)
node:
    name:freqAdditiveSignal
        func: scipy.stats.binom.rvs(100,signalPriorP,1)
    node:
    name:baseFreq
        func: scipy.stats.binom.rvs(100,0.1,1)
    node:
    name:diseaseState
        func: scipy.stats.binom.rvs(1,0.5,1)
    plate:
    index:i
        label:distinctKmers
        nodes:signalPriorP,baseFreq,freqAdditiveSignal,freq

def addIfDiseased(base,signal,state):
return base + (signal if state==True else 0)
